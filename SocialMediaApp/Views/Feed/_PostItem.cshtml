@model SocialMediaApp.Models.ViewModels.FeedPostViewModel

<div class="post-card mb-4 p-3 border rounded bg-white">

    <div class="d-flex justify-content-between">

        <div>
            <strong>@Model.Title</strong>
            <div class="text-muted small">
                by @Model.UserName
            </div>
        </div>

        <small class="text-muted">
            @Model.CreatedAt.ToLocalTime().ToString("g")
        </small>

    </div>

    <div class="mt-3">
        <p>@Model.Content</p>
    </div>

    <div class="post-actions d-flex gap-3 mt-3">
        <form asp-controller="Posts"
            asp-action="ToggleLike"
            method="post"
            class="d-inline">
            <input type="hidden" name="postId" value="@Model.Id" />
            <button type="submit" class="btn btn-link p-0">
                @if (Model.IsLikedByCurrentUser)
                {
                    <span class="text-primary">‚ù§Ô∏è</span>
                }
                else
                {
                    <span class="text-muted">ü§ç</span>
                }
                @Model.LikesCount
            </button>
        </form>

        <button class="btn btn-link p-0 text-muted"
                data-bs-toggle="collapse"
                data-bs-target="#comments-@Model.Id">
            üí¨ @Model.CommentsCount
        </button>
    </div>

    <div class="collapse mt-2" id="comments-@Model.Id">
        <div class="comments-list">
            @* You can optionally render last few comments here *@
        </div>

        <form asp-controller="Posts"
            asp-action="AddComment"
            method="post">
            <input type="hidden" name="postId" value="@Model.Id" />
            <div class="input-group">
                <input type="text" name="content"
                    class="form-control"
                    placeholder="Add a comment..." required>
                <button type="submit" class="btn btn-primary">Comment</button>
            </div>
        </form>
    </div>


</div>
